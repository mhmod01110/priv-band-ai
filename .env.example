# ============================================
# AI Provider Configuration
# ============================================
# اختر المزود: "openai" أو "gemini"
AI_PROVIDER=openai

# ============================================
# OpenAI Configuration - Light Model (المهام السهلة)
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key-here

# موديل خفيف للـ Stage 1 (مطابقة السياسة)
OPENAI_LIGHT_MODEL=gpt-4o-mini
OPENAI_LIGHT_TEMPERATURE=0.2
OPENAI_LIGHT_MAX_TOKENS=2000

# موديل قوي للـ Stage 2-4 (التحليل وإعادة الكتابة)
OPENAI_HEAVY_MODEL=gpt-4o
OPENAI_HEAVY_TEMPERATURE=0.3
OPENAI_HEAVY_MAX_TOKENS=16000

# ============================================
# Google Gemini Configuration - Light Model (المهام السهلة)
# ============================================
GEMINI_API_KEY=your-gemini-api-key-here

# موديل خفيف للـ Stage 1 (مطابقة السياسة)
GEMINI_LIGHT_MODEL=gemini-1.5-flash
GEMINI_LIGHT_TEMPERATURE=0.2
GEMINI_LIGHT_MAX_TOKENS=2000

# موديل قوي للـ Stage 2-4 (التحليل وإعادة الكتابة)
GEMINI_HEAVY_MODEL=gemini-2.0-flash-exp
GEMINI_HEAVY_TEMPERATURE=0.3
GEMINI_HEAVY_MAX_TOKENS=16000

# ============================================
# API Configuration
# ============================================
API_TITLE=Legal Policy Analyzer API
API_VERSION=1.0.0
API_DESCRIPTION=تحليل سياسات المتاجر الإلكترونية للامتثال القانوني

# ============================================
# CORS Settings
# ============================================
ALLOWED_ORIGINS=["*"]

# ============================================
# Security Settings
# ============================================
RATE_LIMIT_REQUESTS=20
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BLOCK_DURATION=15

MAX_REQUEST_SIZE=10485760
MAX_TEXT_LENGTH=50000
MIN_TEXT_LENGTH=50

# ============================================
# AI Service Limits (مشتركة بين OpenAI و Gemini)
# ============================================
MAX_DAILY_REQUESTS=1000
MAX_DAILY_TOKENS=1000000
AI_TIMEOUT=120
AI_MAX_RETRIES=3

# ============================================
# Circuit Breaker
# ============================================
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=120

# ============================================
# Request Deduplication
# ============================================
DEDUPLICATION_TTL=300

# ============================================
# Redis Configuration (for Idempotency)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=False
REDIS_DECODE_RESPONSES=True

# ============================================
# Idempotency Settings
# ============================================
IDEMPOTENCY_TTL=86400
IDEMPOTENCY_KEY_HEADER=X-Idempotency-Key
IDEMPOTENCY_ENABLE=True